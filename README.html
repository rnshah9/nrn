<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NEURON Documentation &mdash; NEURON  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/design-tabs.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> NEURON
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Building:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmake_doc/index.html">CMake Build Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="install/developer.html">Developer Builds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="videos/index.html">Training videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="courses/exercises2018.html">NEURON Course Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications about NEURON</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications-using-neuron.html">Publications using NEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NEURON scripting:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python/index.html">NEURON Python documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="hoc/index.html">NEURON HOC documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="otherscripting.html">Other scripting languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="rxd-tutorials/index.html">Python RXD tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="coreneuron/index.html">CoreNEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scm/index.html">NEURON SCM and Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/index.html">NEURON Development topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="doxygen.html">C/C++ API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Removed Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="removed_features.html">Removed Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">NEURON 8.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#neuron-8-0">NEURON 8.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#contributors">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html#feedback-help">Feedback / Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NEURON</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>NEURON Documentation</li>
<li class="wy-breadcrumbs-aside">
    
    
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
      </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="neuron-documentation">
<h1>NEURON Documentation<a class="headerlink" href="#neuron-documentation" title="Permalink to this headline"></a></h1>
<div class="section" id="online">
<h2>Online<a class="headerlink" href="#online" title="Permalink to this headline"></a></h2>
<p>Latest NEURON documentation is available on:</p>
<ul class="simple">
<li>ReadTheDocs &#64; <a class="reference external" href="https://nrn.readthedocs.io/en/latest/">https://nrn.readthedocs.io/en/latest/</a>.</li>
<li>GithubPages &#64; <a class="reference external" href="https://neuronsimulator.github.io/nrn/">https://neuronsimulator.github.io/nrn/</a>.</li>
</ul>
<p>Contents:</p>
<ul class="simple">
<li>Documentation on building NEURON</li>
<li>User documentation (HOC, Python, tutorials, rxd)</li>
<li>Developer documentation (SCM, technical topics, Doxygen)</li>
</ul>
</div>
<div class="section" id="local-build">
<h2>Local build<a class="headerlink" href="#local-build" title="Permalink to this headline"></a></h2>
<div class="section" id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this headline"></a></h3>
<p>It is recommended to use a Python virtual environment, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">virtualenv</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">venv</span>
<span class="n">source</span> <span class="n">venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>In order to build documentation locally, you need to pip install the <code class="docutils literal notranslate"><span class="pre">docs_requirements.txt</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="o">-</span><span class="n">r</span> <span class="n">docs</span><span class="o">/</span><span class="n">docs_requirements</span><span class="o">.</span><span class="n">txt</span> <span class="o">--</span><span class="n">upgrade</span>
</pre></div>
</div>
<p>Also, make sure to have <code class="docutils literal notranslate"><span class="pre">Doxygen</span></code> and <code class="docutils literal notranslate"><span class="pre">pandoc</span></code> installed, and the dependencies listed in <a class="reference external" href="conda_environment.yml">conda_environment.yml</a>
Note that this file is tailored to the ReadTheDocs setup, but lists all desired requirements.</p>
<p>With all dependencies installed, configure project with CMake as described in <a class="reference internal" href="#"><span class="doc">README</span></a>.</p>
<p>e.g. in your CMake build folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cmake .. -DCMAKE_INSTALL_PREFIX=`pwd`/install
</pre></div>
</div>
</div>
<div class="section" id="building-the-documentation">
<h3>Building the documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline"></a></h3>
<p>Note that executing the jupyter notebooks requires working NEURON installation. So make sure the neuron python
module can be imported. For this, you can build and install neuron from source first or you could also do a
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">neuron</span></code> (in case you don’t want/need to compile NEURON from source).</p>
<p>In order to build the full documentation (Doxygen, Jupyter notebooks, Sphinx):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">docs</span>
</pre></div>
</div>
<p>That will build everything in the <code class="docutils literal notranslate"><span class="pre">nrn/docs/_build</span></code> folder from where you can open <code class="docutils literal notranslate"><span class="pre">index.html</span></code> locally.</p>
<p>In case you just want the Sphinx build to be performed(i.e. you are not working on Jupyter notebooks or doxygen):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">sphinx</span>
</pre></div>
</div>
</div>
<div class="section" id="faster-local-iterations">
<h3>Faster Local Iterations<a class="headerlink" href="#faster-local-iterations" title="Permalink to this headline"></a></h3>
<p>When working locally on documentation, depending on what you work on, be aware of the following targets to speed up building process:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">doxygen</span></code> 			- build the API documentation only. Ends up in <a class="reference external" href="_generated">_generated</a></li>
<li><code class="docutils literal notranslate"><span class="pre">notebooks</span></code> 			- execute &amp; embed outputs in-place into jupyter notebooks, see <a class="reference external" href="notebooks.sh">notebooks.sh</a></li>
<li><code class="docutils literal notranslate"><span class="pre">notebooks-clean</span></code>     - clears outputs from notebooks. Remember that executing notebooks will add outputs in-place, and we don’t want those committed to the repo.</li>
<li><code class="docutils literal notranslate"><span class="pre">sphinx</span></code> 				- build Sphinx documentation</li>
</ul>
<p><strong>NOTE</strong>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">docs</span></code> target calls: <code class="docutils literal notranslate"><span class="pre">doxygen</span></code> <code class="docutils literal notranslate"><span class="pre">notebooks</span></code> <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> and <code class="docutils literal notranslate"><span class="pre">notebooks-clean</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">sphinx</span></code> target is the one that will assemble all generated output (doxygen, notebooks).</li>
</ul>
</div>
</div>
<div class="section" id="readthedocs-setup">
<h2>ReadTheDocs setup<a class="headerlink" href="#readthedocs-setup" title="Permalink to this headline"></a></h2>
<div class="section" id="config-file">
<h3>Config file<a class="headerlink" href="#config-file" title="Permalink to this headline"></a></h3>
<p>Configuration file is in the top directory: <a class="reference external" href="../.readthedocs.yml">../.readthedocs.yml</a>.</p>
</div>
<div class="section" id="documentation-not-handled-by-rtd">
<h3>Documentation not handled by RTD<a class="headerlink" href="#documentation-not-handled-by-rtd" title="Permalink to this headline"></a></h3>
<p>For RTD we need to call <code class="docutils literal notranslate"><span class="pre">doxygen</span></code> and <code class="docutils literal notranslate"><span class="pre">notebooks</span></code> make targets, since only <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> executable is called therein.
To that end we are using conda to be able to install packages like CMake in RTD.
All conda dependencies are listed under <a class="reference external" href="conda_environment.yml">conda_environment.yml</a>.</p>
</div>
<div class="section" id="leveraging-conf-py">
<h3>Leveraging <code class="docutils literal notranslate"><span class="pre">conf.py</span></code><a class="headerlink" href="#leveraging-conf-py" title="Permalink to this headline"></a></h3>
<p>The only way to gather extra documentation in RTD is to make use of <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>.
Have a look at <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">os.environ.get(&quot;READTHEDOCS&quot;):</span></code> block in <a class="reference external" href="conf.py">conf.py</a> to see how we leverage the aforementioned targets and outputs.</p>
</div>
<div class="section" id="notebooks-execution-with-neuron-wheels">
<h3>Notebooks execution with <code class="docutils literal notranslate"><span class="pre">neuron</span></code> wheels<a class="headerlink" href="#notebooks-execution-with-neuron-wheels" title="Permalink to this headline"></a></h3>
<p>For <code class="docutils literal notranslate"><span class="pre">notebooks</span></code> we are using <code class="docutils literal notranslate"><span class="pre">neuron</span></code> Python wheel as follows:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">neuron-nightly</span></code> for <code class="docutils literal notranslate"><span class="pre">master</span></code> RTD builds.</li>
<li><code class="docutils literal notranslate"><span class="pre">neuron==X.Y.Z</span></code> for <code class="docutils literal notranslate"><span class="pre">release</span></code> RTD builds. Note that wheels need to be published first (see next section).</li>
</ul>
<p>To achieve this, we parse the RTD environment variable <code class="docutils literal notranslate"><span class="pre">READTHEDOCS_VERSION</span></code> and <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> it (see <a class="reference external" href="conf.py">conf.py</a>) .</p>
</div>
<div class="section" id="new-release-on-rtd">
<h3>New release on RTD<a class="headerlink" href="#new-release-on-rtd" title="Permalink to this headline"></a></h3>
<p>Follow the following steps:</p>
<ul class="simple">
<li>create a new release (see <a class="reference external" href="https://github.com/neuronsimulator/nrn/actions?query=workflow%3A%22NEURON+Release%22">GHA Neuron Release - Manual Workflow</a>)</li>
<li>publish the wheels (these will be pip-installed by RTD)</li>
<li>go to <a class="reference external" href="https://readthedocs.org/projects/nrn/versions/">NRN RTD Versions page</a> and activate the new tag.</li>
</ul>
<p><strong>NOTE</strong>: build can be re-launched as many times as needed</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Duke, Yale and the Blue Brain Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>